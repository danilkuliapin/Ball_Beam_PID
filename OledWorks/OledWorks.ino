#include <Arduino.h>
#include <U8g2lib.h>

#define U8X8_HAVE_HW_I2C
#ifdef U8X8_HAVE_HW_SPI
#include <SPI.h>
#endif
#ifdef U8X8_HAVE_HW_I2C
#include <Wire.h>
#endif

// works for arduino
//U8G2_SH1106_128X64_NONAME_F_SW_I2C u8g2(U8G2_R2, A5, A4, /* reset=*/ U8X8_PIN_NONE);

// half working for esp32
U8G2_SH1106_128X64_NONAME_F_SW_I2C u8g2(U8G2_R0, 9, 8, /* reset=*/ U8X8_PIN_NONE);

const unsigned char bahianita[4317] U8G2_FONT_SECTION("bahianita") = 
  "[\0\4\4\5\6\4\7\7\42\77\0\365-\370\61\373\5\330\14@\20\300 \6\0@`\22!\27\247"
  "]`\23>Xa\244\376O\310\320\77\232\221x\30\230\260\27\0\42#\316\331/\25\12iD\204\20\21"
  "BD\10\21!D\204\20\21BD\10\21!\65\204\324\20RC\304\11\1#Wz\304\242V\305\205\7"
  "Aj\370(\342\243\210\217\42Mj\70\251\341\243\210\217\42>\212\64\251\341\244\6>H\362 \311\203t"
  "\244\206\223\32N\210\370(\342\243\310=P\361@\305\3\25\17\206\217\42M\212\64)\322\244\206\23\42N"
  "\210\370(\322\244H\223\32N\210\70\251\241\0$\42Ng\235\325\306\316w,\36<\10J\377\77\65\250"
  "\350A#\225\365)\375O\37\210h\261n\354\274\3%\210\271U`\27R\7I-B\204\341#\204G"
  "\14!;d\10\331!C\210\216\31Bt\314\224\203\306\214\34\64f\340\250\61\3G\215\31\67l\314\60"
  "bc\206\215\33\63\212\334\230Q\3\23\21D\65\362\24y`\343\201\215\7\67\36\330x`\344\201\15B"
  "I(\341\250t\244\306\214\33\66f\30\261\61\303\306\215\31En\314\250\201c\6\21\34\63h\344\230\61"
  "$\307\14!:\204\322!$\310\16!\61x\10\342!\247E\244N\21<\1&f\265U\340\65\236}"
  "F$\31\301a\4\207\21\34Fp\30\301a\4\207\21\34F\36\10y \344\201\224\7Q\36Dy\20"
  "\345A\224\7Q\36\310\203\61\17\310<\30\322\256\34\251r\204\314\21\62G\310\34!s\204\12\22*H"
  "\250\134\241r\205\312\25*W\250\134\241r\205\312\25*W\250\134\241\7\202\36\10z\20\312\35\0'\14"
  "\305\331\357\22^\320\177!\4\0(,\312\336\35\264B\226\42U\25\61RU\21#U\212\30U\304("
  "\33F\377\377\335\70b\344\306\21\243\216\30\261b\224\225*FY \0)+\312\336\35\224\302\215*F"
  "\254\30e\305hG\214:b\324\215#F\377\77\33F\263a\264\42FU)b\244\252\42F\252\240("
  "\0*Kzci\70\313\203#\17\216<\70\362\340\10\206\12Gn\314\60j\12\21:q\206\14\212\24"
  "$P= \371 \60{ \347\201\254~\20\360A!$CR\240\31\344\212\220\21R\305\6\205+\30"
  "\270<\260\362\300\312\3+\17\254,\0+\62\324\312\245\25\311\203 \17\202<\10\362 \310\203 \17\202"
  "<\10\362 \310\203 \370\340\207\344A\220\7A\36\304x \343\201\214\7\62\36\310x #\1,\22"
  "\246\311\134\62*\241\315$c\206\20\31B(\14\0-\10tH\252\25\376\0.\10\306``\23>\60"
  "/%\354\325\37\24)\34\71C\12GNH\303\221\3i\70rB\32\216\34H\207\3\351p\344@:"
  "\34HS\201\0\60&\260]\240u\24\271x\360\340\230\376\377F\204\12\22*H\250 \241\202\204\12\22"
  "\312\364\377g\17\36\34i\264\4\0\61\23\262U\240\65\326m\250u\375\377\377\377\237=\370\1\3\62%"
  "\257e\240\25\26\261iB\252\304\260\22\303J\14+\61\254\304\260\242\265\264\17\317\335C[\332\313\242\365"
  "\247\17~\63'\257]\240\25\26\261q\361\200X\62t\270+Z\177i\204\215\252EL\215\326\177\212."
  "Y\316T=x@\242\11\33\0\64e\263U\240\25\17_Kb,\211\261$\306\222\30Jd(\221\241"
  "DF\226 I\204$\21\222D\10\26!H\206 \31\202d\310\225!W\206\34!r\204\210\25\42V"
  "\210\30)b\244H\225\42U\212\252R\244\12\225*\364@\310\203\7(\36\214x\60\226<\0\362\0\310"
  "\3 \17\200<\0\362\0\310\3 \17\200\20\0\65)\257e\240\65\374\202,\375\333\242u\252j\21\233"
  "FK\353\337R\61\216\304\70\22\304H\20#A\214\4\231\23^\260Y\4\0\66-\260]\240u\330\64"
  "q\361\202X\211b$\212\221(F\242\30\211r#\312\326\337\62j\363\342\301\203c\372\377\263\7\17N"
  "\270a\245\6\0\67,\260]\240\25\376`\4\71\22\344H\20+A\254\4\61\42\343\10\223\255\226\60\331"
  "\272%[\267d\353\226l\335\222\255\323\262uZ\22\0\70@\260]\240\225\222-b\343\204T\21bD"
  "\210\21!F\204\30\21bD\210\21!F\204\30\21bD\210\21!F\204\30\221BE\334\260R\266\306"
  "\311\203R\352\322)\323\377\263\7\17N\270a\245\6\0\71*\260]\240uT\61y\361\300\230\376\377\331"
  "\3\23O\334\264\255\377b\134\211q%\210\225 V\202X\11B'^\70i\303\6\0:\16\346c`"
  "\23>\60\17\277|\360\300\0;\27\306\344\134\23>\60\17\277\64Q\11M\306\14!\62f\310 \61\0"
  "<#\362R\245\365\1\204\7\60\274,B\224\10Q\236Dy\324pi\303h\21\243\315V%\342\342\344"
  "A\204\1=\16\323I\247\25\376Ax\370\345\203\77\10>!\362R\245U\302\203 ^\30-b\304\207"
  "\61\276\272\260\311t\312\224-b\227\22m\361\361\0\202\3\77'\256]`\225\36|\260*W\310\60+"
  "YC\203\5\315\31\64g\260\240\71\203%K\22\245\237\216\35\17g\6\355\31\0@\226\276e`\31\376"
  "\7.\312\3\33Q\36\330\10\362\340F\220\7\67\202<\270\21\244X\215 \305j\4\241V#\10\235("
  "D\202\64!\22\304\7\221 >\210\4iB$H\23\42A\232\20\11\322\204H\220&D\202`\42\22"
  "\304\26\221 \305h\10\31GC\310\30\32\65\204L\251AD\10\221\32D\204\20\251AD\10\221\32D"
  "\204\20\251AD\10\221\32D\204\320\221AD\10\61\42B\350A\21B\17\212\20zPd<\340\361\200"
  "\307\3\36\17\230<\330\7\213\36,z\260\10\0A[\257M\240t\270!D\206\20\31Bd\10\221!"
  "D\206\20\221BD\12\21)D\244\20\221BD\12\21)D\244\20\221BD\12\21)D\244\20\221B"
  "D\12\21)D\244\20\11_\224\61Q\306D\241\22\205J\220*A\252\4\251\22\244J\220*A\252\304"
  "\260\22\303J\214\303\335\301\203\4B;m]\241\24\324\260`\61\212\304(\22\243H\14*\61\250\304\240"
  "\22\203J\14*\61\210\310 \42\203\210\14\42\62\210\310 \42\203\210\14\61\262D\15\213\7c\364\377o"
  "\36<h\1\0C\42\257] U\36|\60H\225f\231\221 F\202\30\11\262\364\377\267E\353gY"
  "i\365\340\203\22N\32DO\256]\340\24\24\255a\322\202\220\376G%\10\225 T\202P\11B%\10"
  "\225 T\202P\11B%\10\225 T\202P\11B%\10\225 T\202P\11B%\10\225 D\204\20"
  "\21BD\10\21!D\204\20\21BD\10\21!S\204\311\32E\251\0E\31\217\325\340T\372\11Y:"
  "\255\77e\303\315\242\242\365\377''\36\374\300\1F\27\255U`T\366\23\222\24\326\77d\301\205\232\202"
  "\365\377w\366\35\0G\36\220\335\240\65>x`,]B\134\36\246\377\333R\253\30q\210\177\227w\17"
  "~\200\342\1Hd\320\325\37\25\312\226*Q\252D\251\22\245J\224*Q\212H\251\22\245J\224*Q"
  "\252D\251\22\245J\224*Q\252D\251\22\245J\224*B\252\10\251\42D\220\370\11\251\42\244\212\220*"
  "B\214\10\61\42\304\210\20#B\214\10\61\42\245\210\224\42R\212H)\42\245J\224*Q\252D\251\22"
  "\245J\224*Q\214\60\1I\16\246U\240\22>\60Q\377\377\377\377\77J%\257M\240\64\355\323\372\177"
  "J\226\376\37\211\42Q\212\10)\42\244\210\24\42R\210H!\62\204\310\20\42\303\13\0Kc\320\325\337"
  "TWmU\242T\211R%J\225(U\242T\211R%J\221!E\206\24\31RdH\221!E\206"
  "\24\31RdH\15\242M\241U\351\224\61*\201\244\310\221\62F\12\25)T\244P\221BE\12\25)"
  "T\244P\221BE\12\25)T\244P\221BE\12\25)T\206P\31Be\10\225!T\2\0L\26"
  "\254] \24\214\331\317\312\325\377\377\377;\202\4\323<\370`\0MY\362\325\237\225\327\61\343\252\257F"
  "\244\32ab\320\10\23\203F\230\30\64\302\304\230!&\306\14\61\61f\210\21\61C\214Lbd\22#"
  "C\304\30\31\42\306\310\210\61fD\214\61#b\214\231Bf\12\231)d\246\220!B\206\10\31\32e"
  "h\320\241A\207\6\235\22t\366\376\367\0Nd\262U`\25\316\355\356\4\261\23\304N\20;A\354\4"
  "\261\23\304\216\14;B\352\10\251#\244\216\220:B\352\314\250\63\243\316\20:C\350\14\241\63\204\316\20"
  ":\64\350\320\240Cd\16\21AD\4\21\21TCP\15A\65\4\325\20T$P\221@\66\2\331\10"
  "d#\220\215@\66\2\31\273u'\306\235\30w\2\0O\27\256]\340T\224\264x@H\377\377\377\377"
  "\37=x\60b\325!\0P=\260M\340\24\332<qS\306\10\251\42\244\212\220*B\252\10\251\42\244"
  "\212\220*B\252\10\251\42\244\212\220*B\252\10\251\42\204\214\20\62B\310\10!#\204\312t\303H\31"
  "a\372\377O\1Q$\256^\334T\22\261x\360@T\376\377\377\377I\20$#\220\214x\360\203pc"
  "\311NK\224,Q\242E\11Rb\261M \25\334|S\306\14\251\62\244\312\220*C\252\14\251\62\244"
  "\312\220*C\252\14\251\62\244\312\220*C\252\14\251\62\244\312\220*C\252\14\251\62\215\32\261RG\204"
  "\34\21rd\210\221)E\246\24\241B\204\12\221\42D\212\20\251\62\244\312\220*C\252\14\251\62\244\312"
  "\20#C\214\14\61\62\304\310\20+S \255U`\64\36|P\202$]\26\254\177\230\350\301\222e\347"
  "\14\326\377\222.\37<`\261\4\0T\22oMa\64\36\70iU\264\376\377\377\377\177\5\0U\23\255"
  "]\340\24Q\341\377\377\177v\377\317\36|\240\2\0V_\321\305\237\24\12\222(G\242\34\211r$\312"
  "\221(G\242\34\21rD\310\215!\67\246\24\231RdJ\21\42E\210\24!R\204H\215\42\65\212\324"
  "\250B\303\10\15#\64\214\320\60\62\304\310\214#\63p\314\300\61\3\211\14$\62\220\310@\42#\207\10"
  "\35\42t\210\320!B\257\265m\341\252I\213\3W\241\265E`\25\312\252-A\266\4\331\22dK\220"
  "-A\226\10\241AD\10\15\42Bh\20\21B\203\210\220!D\204\14!\42d\312\20!S\206\10\231"
  "\62D\310\224!B\246\14\21\62e\210\220\21!\206\314\220\21b\310\14\31\61\204\314\220\21C\310\14\31"
  "\61\204\314\20!C\310\14\21#d\320\20\61B\6\15\21#d\320\20\61#\6\215\30\63b\320\210\61"
  "#\6\215\20\64b\320\10Q\42\6\215\20%b\320\10Q\42\6\215\20%b\320\10Q\206F\210\62E"
  "\314\24\271R\344J\221+E\256\24\271R\3\213\0X_\262M\340\24\12*,Q\216H\71\42\305\312"
  "\20+S\252L\251\62\245\12\221*D\252PU\204\210\21\42F\246\34\221rD\312\21)G\244\340\220"
  "\202)\221^\212\62\241\302\42\3\311\220#C\216\320\70B\304\10\221*D\252\24\241R\204J\21*\66"
  "\250\30\231bd\312\215)G\244\34\11s\353\12Y\30\314\325\337\23\10\341o\362\337\224\30C$\321\261"
  "r\5\351\377\377\217\0Z*\257U\340\64\330\64q\322\16e\321Z\26\255e\321\232\22\255)\321\232\222"
  "%Z)Y\242\225\222\245\264(YJU=\370\300\1[\22\312\336\35\24> F\377\377\377\377\377\77"
  "{\360\0\134*\354\325\37\24F\216$Hr\226\4I\316\222 \225\263$H\345\224\4\251\234\222 -"
  "\247$H\313\221\4i\71\222 A!\0]\21\252\336\35\24>\243\377\377\377\377\377\317\36< ^\42"
  "\264Q)\26\311\3(\17\300\64Z\245DH\22\42G\214\24\301QC\307\14\36\61\232Dx\0\42\0"
  "_\11\224\330\234\26\376A\1`\16\11\311\364R\204\21*U\31eA\0a\62\256T\240\64\326\254a"
  "Y\224\376OX\364\202P\11B%\10\225 T\202P\11B%\10\225 T\202P\11B%\10\225 "
  "T\202P\11B%\134\64ab\27\314]\240\24\10\322\37\256x\360@\21\376\377\377\77z\320B\5\0"
  "c\34\254\134 T\222\250XAh\4\241\21\204F\20\244\377\377\77,W\316\30\213%\12d\30\315]"
  "\340\24\353/I<\370@Q\376\377\377Gj\324<x\340\202\1e\42\255\134\240\64\224\260`A\12\77"
  "\312\37=x\300\204$\375\63\21\244F\220\32Aj\4\251\21\234\254\0f\26\254E \223\320\344\206 "
  "\255\36<\60C\220\376\377\377\377\25\0g@\60N\234\224GOLh\21\217H\15\42\65\210\324 R"
  "\203H\15\242\377Q\31Be\10\225!T\206P\31Be\10\225!T\206P\31Be\30\261R\66z"
  "n]|P\20\77|P\304\15\13\0hV\316]\340\64\206\322\237\256i\321\202\24\11R$H\221 "
  "E\202\24\11R$H\221 E\202\24\11R$H\221 E\202\24\11R$H\221 E\202\24\11R"
  "$H\221 E\202\24\11R$H\221 T\202P\11B%\10\225 T\202P\11B%\10\225 \244"
  "\221\1i\24&V\237\22\276(\17\264D\375/\210\320\377\377'%jj\35H\307\332R\354My\250"
  "\312\324\377\377\277!D\377\67e\310TR\246\14\241a\242\0kO\315]`\24H\322\77\312#\22\204"
  "H\20\42A\210\4!\22\204H\20\42Ah\10\241!\204\206\20\32B\206\210\32TjX\20\61A\246"
  "\310 \42\203\210\14\42\62\210\310 \42\203\210\14\42\62\210\310 \42\203\210\14\42\62\210\310 \42\203\210"
  "\14*l\21\247U\240\22\212TC\377\377\377\377\277\61a\1mp\327\324\237\66T/~@h\24\233"
  "QlF\261\31Ej\314(RcF\221\32\63\212\324\230Q\244\306\214\42\65f\24\251\61\243H\215\31"
  "Ej\314(RcF\221\32\63\212\324\230Q\244\306\214\42\65\206\20\251\61\204H\215!Dj\14!R"
  "c\10QC\210\32B\324\20\242\206\20\65\204\250!D\15!j\10QC\210\222B\224\24\42\264\210\220"
  "y \6n\20\254\134\240T\220<h\204\377\377\377\377\210\0o\24\255\134\340T\322<p\205\377\377\377"
  "\257\36\274Xt\6\0p\27\254]\234\24V<p\203\10\377\377\377\217\36|`\202 \375\20\0q\25"
  "\255]\334\64\36|\240(\377\377\377\217\36<p\301\222\376\0r\23\253\134\340\23\222<X\241\6G\347"
  "\350\377\377\377\16\0s\34\252\134 \64\36<\70\62n\336\21\243\263\63\17J\244*F\377\273q\17\36"
  "\260\0t\37\256M\340\223\306\316)-WtD\224\376\377\377\321\30Bc\10\215!\64\246\314\230\215T"
  "%u\23\255\134\340\64F\221\30\205\377\377\377\177\365\340I\22\0vJ\357L_\24\212\345J\25\21R"
  "DH\21!E\204\24\21RD\12\221!\64\210\320 B\203\310\20\42C\210\14!\62\303\306\14\33\63"
  "l\314\260\61\303\210\14#\62n\210\300\21\3G\14\34\61p\304\300\21\3G\10\255O\11\17\3wm"
  "\66M\37\366\201\224\7\242X\37\223(L\242\20%\204(!D\11!J\310\24\42B\306\14\21\62f"
  "\210\220\61\63\206\214\231\61d\314\214!#b\314\240!C\304\14\32\62\243!\63\32\62\243!\63\32\42"
  "f\310\240!\202\204\210\32\42H\210\250\21\203F\210\32\61h\204\60\21\203F\10\23\61\310\230\10a\365"
  "g\344\212\221+\67p<\240\361\0xN\360L\240t\313\222(F\242\30\21bD\12\221)D\246\20"
  "\375\212\314\60\62\303\310\214\33Bn\10\271!\3I\214\34\61\362\340A\14\207\14\34B\214\10\61\42\304"
  "\310\220\42Cj\20\251AeH\221!E\206T\21REH\225(\226.]\1yR\17\316Z\24\212"
  "\345\252\4)\42\244\210\220\42B\212H!\42\205\310\20\32Dh\20\241Ad\10\221!D\206\324\30R"
  "c\206\21\31Fd\30\221aD\306\15\31\67b\340\210\201#\6\216\30x\322d\321\272%;\226R\262"
  "DK\26%Z\262ha\341a\1z*\255L\340\63\324,a\261\354$\301\202$),H\222\302\202"
  "$),H\222\302\202$)\254\220$\301\12\11\256Y\262F\5\0\0\0\0\4\377\377\0";

void setup(void) {
  u8g2.begin();
}

void loop(void) {
  // u8g2.clearBuffer();					// clear the internal memory
  // u8g2.setFont(u8g2_font_ncenB08_tr);	// choose a suitable font
  // u8g2.drawStr(0,10,"Hello World!");	// write something to the internal memory
  // u8g2.sendBuffer();					// transfer internal memory to the display
  // delay(1000);  

  // u8g2.firstPage();
  // do {
  //   u8g2.setFont(u8g2_font_ncenB14_tr);
  //   u8g2.setCursor(0, 20);
  //   u8g2.print(F("Hello World!"));
  // } while ( u8g2.nextPage() );
  // delay(2000);
  
  u8g2.firstPage();
  do {
    char m_str[3];
    strcpy(m_str, u8x8_u8toa(67, 2));
    //u8g2_font_dystopia_tr
    //u8g2_font_t0_22_tr
    u8g2.setFont(bahianita);
    u8g2.drawStr(0,50,"K");
    u8g2.setFont(u8g2_font_t0_22_tr);
    u8g2.drawStr(20,50, "p");
    u8g2.setFont(bahianita);
    //u8g2.drawStr(34,50,"=");
    u8g2.drawLine(34, 0, 34, 63);
    u8g2.drawStr(58,50,"-");  
    u8g2.drawStr(80,50,m_str); 

  } while ( u8g2.nextPage() );
}

